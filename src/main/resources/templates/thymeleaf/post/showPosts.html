<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>돗자리 나눔</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
	<style type="text/css">
		#title_length{
			white-space: nowrap;
			text-overflow: ellipsis;
			overflow: hidden;
		}
	</style>
</head>
<body>
	<!-- nav -->
	<th:block th:replace="thymeleaf/layout/topLayout :: topLayout">
	   <th:block th:fragment="content"></th:block>
	</th:block>
	
	<!-- 모든 게시물 정보 -->
	<section class="py-5">
           <div class="container px-4 px-lg-5 mt-5">
               <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
                   <div th:each="posts : ${posts}">
                    <div class="col mb-5">
                        <div class="card h-100">
                        	<div >
                            	<img class="card-img-top" th:src="@{/postImages/} + ${posts.postImages[0].fpath}" alt="..." />
                            </div>
                            <div class="card-body p-4">
                                <div class="text-center">
                                    <h5 id="title_length" class="fw-bolder" th:text="${posts.title}"></h5>
                                </div>
                            </div>
                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                            	<div class="text-center"><a class="btn btn-outline-dark mt-auto" th:href="@{/member/post/showPostDetail/}+${posts.num}">받으러 가기</a></div>
                            </div>
                        </div>
                    </div>
                   </div>
               </div>
           </div>
			<!-- Page 목록 버튼 -->
           <nav aria-label="Page navigation example" style="display: flex;justify-content: center;">
			  <ul class="pagination">
			    <li class="page-item">
			      <a class="page-link" th:href="@{${pageableHref}+'0'}">
			        <span aria-hidden="true">&laquo;</span>
			      </a>
			    </li>
			    
			    <li class="page-item" th:each="pageList : ${pageList}">
			    	<a class="page-link" th:href="@{${pageableHref}+${pageList}}" th:text="${pageList}+1"></a>
			    </li>
			   	
			    <li class="page-item">
			      <a class="page-link" th:href="@{${pageableHref}+${LastIndexOfpage}}">
			        <span aria-hidden="true">&raquo;</span>
			      </a>
			    </li>
			  </ul>
			</nav>
	</section>
</body>
</html>