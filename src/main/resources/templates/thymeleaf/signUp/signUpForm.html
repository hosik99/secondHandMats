<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>회원가입</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
	<style type="text/css">
		.err {color:red;}
		#box_style{
			width:80%;
			padding:30px;
		}
		#pwCheck{
			border: none;
		}
	</style>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script type="text/javascript">
		function emailCer(){
			var memberEmail = $('#memberEmail').val();
			if(memberEmail==''){
				alert("이메일을 작성해주세요.")
				return;
			}
			$.ajax({
				url : '/sign/send/email/pass/'+memberEmail,
				method:'post',
				cache:false,
				data:null,
				dataType:'text',
				success:function(res){
					alert(res ? '인증번호 전송 완료 이메일을 확인해주세요': "인증번호 전송에 실패했습니다");
				},
				error:function(xhr,status,err){
					alert('Error:'+err);
				}
			});
			return false;
		}
	</script>
</head>
<body id="box_style">
	
	회원정보를 입력해주세요
	<hr>
	 
	<form method="post" th:action="@{/sign/signUp/form}" th:object="${member}">
		<div class="mb-3">
		 	<input type="text" class="form-control" id="exampleFormControlInput1" th:field="*{memberId}" placeholder="아이디">
		 	<div class="err" th:if="${#fields.hasErrors('memberId')}" th:errors="*{memberId}"></div>
		</div>
		<div class="mb-3">
		 	<input type="text" class="form-control" id="exampleFormControlInput1" th:field="*{name}" placeholder="이름">
		 	<div class="err" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
		</div>
		<div class="mb-3">
			<input type="password" class="form-control" th:field="*{password}" placeholder="비밀번호">
			<div class="err" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
		</div>
		<div class="mb-3">
			<input type="email" class="form-control" id="memberEmail" name="memberEmail" th:field="*{memberEmail}" placeholder="이메일">
		 	<div class="err" th:if="${#fields.hasErrors('memberEmail')}" th:errors="*{memberEmail}"></div>
		</div>
		<button type="button" class="btn btn-outline-dark" onclick='emailCer();'>인증번호 받기</button>
		<div class="mb-3">
		 	<input type="text" class="form-control" id="exampleFormControlInput1" name="verEmailCode" placeholder="이메일 인증번호">
		</div>
		<hr>
		<div>
			<button type="submit" class="btn btn-outline-dark">회원가입 하기</button>
			<button type="button" class="btn btn-outline-dark" th:onclick="location.href='/index/indexFrom'">취소</button>
		</div>
	</form>
	
</body>
</html>